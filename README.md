# Civic Climate Control - Android-приложение для ГУ для отображения показаний климат-контроля с Civic 5D (хэтчбек, 8th gen)
Приложение для отображения показаний с климат-контроля Honda Civic 5D (2006-2011) с помощью адаптера [с вот такой прошивкой](https://github.com/Snow4DV/civic-adapter-platformio). 
</br>
![Pic1](/images/pic1.png)
![Pic2](/images/pic2.png)
# Что умеет
* Приложение в связке с адаптером отображает показания климат-контроля  на экране ГУ на базе Android 
* Имеется виджет, который по мере изменения состояния климата отображает новые показания поверх других запущенных приложений
* Поддерживается автозапуск даже на магнитолах, которые не рассылают броадкаст BOOT\_COMPLETED
# Установка 
[Скачайте последнюю версию APK из Releases {тык}](https://github.com/Snow4DV/CivicClimateControl/releases/latest)
# ВНИМАНИЕ - для владельцев магнитол с MTK
Если ваша магнитола основана на процессоре от МТК (или чипах AutoChips вроде AC8257) - велика вероятность, что она будет нещадно убивать сервис оверлея для высвобождения памяти. Есть два решения: а) Пробовать добавлять приложение в белый список, чтобы ГУ его не трогало б) Отключать duraspeed насовсем, если магнитола это позволяет
# Как прошить адаптер на основе Arduino Uno/Nano прямо из приложения
* Подключите Android ГУ к интернету
* Установите приложение (ссылка выше)
* Подключите адаптер к разъему климата по схеме ниже
* Подключите непрошитый адаптер по usb к магнитоле
* После подключения дайте приложению доступ к USB-устройству, поставив галочку "Открывать это приложение всегда при подключении устройства"
* Перейдите в настройки, выберите адаптер из выпадающего списка 
* Нажмите на пункт меню "Прошить адаптер"
* Если устройство будет основным (работать в режиме MASTER) - оставьте галочку отмеченной, в параллель - снимите галочку "Master"
* Нажмите на кнопку "Прошить адаптер" в правом нижнем углу. Если прошивка не зальется с первого раза - пробуйте еще раз.
* Готово, адаптер можно использовать.  
### Видеоинструкция по прошивке:
[![Видеоинструкция по прошивке](https://img.youtube.com/vi/Pt0uY-M1ryU/0.jpg)](https://www.youtube.com/watch?v=Pt0uY-M1ryU)
# Автозапуск, если магнитола не рассылает BOOT\_COMPLETED
В таком случае вам стоит воспользоваться сторонним лаунчером вроде [FCC](https://4pda.to/forum/index.php?showtopic=882604) или [Agama](https://4pda.to/forum/index.php?showtopic=835814). Просто добавляем специально предназначенный "лаунчер" приложения, который называется "Автозапуск оверлея климат-контроля", в автозапуск лаунчера ГУ, и теперь при просыпании магнитолы будет открываться и тут же закрываться активность-пустышка, которая автоматически запустит сервис-виджет. Демонстрация на примере FCC:
![Pic4](/images/pic4.png)  
![Pic5](/images/pic5.png)  
# Адаптер
Для использования приложения требуется адаптер, который вам придется собирать и прошивать самим (благо, сборка и прошивка максимально упрощены, ничего сложного). [Прошивку и инструкцию можно взять по этой ссылке.](https://github.com/Snow4DV/civic-adapter-platformio)
